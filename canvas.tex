% ============================================================================
% CANVAS.TEX — Layout Assembly
% ============================================================================
%
% This file places content on the page using the grid coordinate system.
%
% COORDINATE SYSTEM:
%   (0,0) = top-left of the drawable area (inside margins).
%   X increases rightward in grid columns.
%   Y increases downward in grid rows.
%   Grid dimensions (\GridCols × \GridRows) are computed in preamble.tex §2.
%
% ALL POSITIONS ARE DERIVED from preamble.tex:
%   \ContentStartY ... first row below the header (= \HeaderHeight + 1)
%   \RightColX ....... right column X origin  (= \LeftBoxWidth + \ColumnGap)
%   \GapBoxToBox ..... vertical gap between stacked boxes
%
% The ONLY things hardcoded here are:
%   - \input paths to engine and generated files (these are file names, not params)
%   - Content text passed to \SetCVHeader (personal data)
%   - The (0,0) origin for the header (it always starts at the top-left)
%   - The 0 X-origin for the left column (it always starts at column 0)
%
% PAGE BREAKS: call \CVPageBreak between page sections.
% SPLIT CONTENT: break long generated files into -1.tex / -2.tex and use
%                separate \LeftBox calls on different pages.
%
% ============================================================================

% ----------------------------------------------------------------------------
% LOAD ENGINE + PAGEFLOW
% ----------------------------------------------------------------------------
\input{engine/header.tex}
\input{engine/leftbox.tex}
\input{engine/rightbox.tex}
\input{engine/fullbox.tex}
\input{engine/pageflow.tex}

% ----------------------------------------------------------------------------
% LOAD CONTACT DATA (shared with ATS pipeline via generated/contact.tex)
% ----------------------------------------------------------------------------
\input{generated/contact.tex}

% ----------------------------------------------------------------------------
% STORE HEADER (repeated on every page via \CVPageBreak)
% ----------------------------------------------------------------------------
\SetCVHeader
    {\StoredContactName}
    {\StoredContactTitle}
    {\StoredContactEmail}
    {\StoredContactPhone}
    {\StoredContactLinkedIn}
    {\StoredContactLocation}

% ============================================================================
% PAGE 1
% ============================================================================

% --- Header (always at grid origin 0,0) ---
\CVHeader{0}{0}
    {\StoredName}{\StoredTitle}
    {\StoredEmail}{\StoredPhone}
    {\StoredLinkedin}{\StoredLocation}

% --- Left column (starts at col 0, below header) ---
\LeftBoxInit{0}{\ContentStartY}
\LeftBox{SUMMARY}{generated/summary.tex}
\LeftBoxGap{\GapBoxToBox}
\LeftBox{RESEARCH EXPERIENCE}{generated/research_experience.tex}
\LeftBoxGap{\GapBoxToBox}
\LeftBox{WORK EXPERIENCE}{generated/work_experience.tex}

% --- Right column (starts at \RightColX, below header) ---
\RightBoxInit{\RightColX}{\ContentStartY}
\RightBox{TECHNICAL SKILLS}{generated/skills.tex}
\RightBoxGap{\GapBoxToBox}
\RightBox{EDUCATION}{generated/education.tex}

% ============================================================================
% PAGE 2
% ============================================================================
\CVPageBreak

% --- Left column (continued) ---
\LeftBoxInit{0}{\ContentStartY}
\LeftBox{WORK EXPERIENCE}{generated/work_experience.tex}

% --- Right column ---
\RightBoxInit{\RightColX}{\ContentStartY}

\endinput

% ============================================================================
% LAYOUT DIAGRAM (reference only — all values are derived)
% ============================================================================
%
% With A4 paper, 13.5mm min margin (snapped), 9pt Iosevka Extended:
%   Grid = \GridCols cols × \GridRows rows  (96 × 85 at defaults)
%
%  Col: 0           \LeftBoxWidth     \RightColX              \GridCols
%       |                |              |                        |
%   0   ╒═══════════════════════· NAME ·══════════════════════════╕
%   1   │ · · · · · · · · · · · · · · · · · · · · · · · · · · · ║
%   2   │ · · · · · >_ TITLE · · · · · · · · · · · · · · · · · ║
%   3   │ · · · · · · · · · · · · · · · · · · · · · · · · · · · ║
%   4   │ · · email · · phone · · linkedin · · location · · · · ║
%   5   ╘═══════════════════════════════════════════════════════╝
%   6   (1 row gap = \GapBoxToBox)
%   7   ┌─· SUMMARY ·──────────┐   ┌─· TECHNICAL SKILLS ·──────┐
%   8   │ · · · · · · · · · · ·│   │ · · · · · · · · · · · · · │
%  ...  │  [auto-height]       │   │  [auto-height]             │
%       └──────────────────────┘   └────────────────────────────┘
%       (\GapBoxToBox gap)         (\GapBoxToBox gap)
%       ┌─· AI & ML EXP ·──────┐   ┌─· EDUCATION ·─────────────┐
%       │                      │   │                            │
%       └──────────────────────┘   └────────────────────────────┘
%       ... and so on ...
%
% ============================================================================

\endinput
